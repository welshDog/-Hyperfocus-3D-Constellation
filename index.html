<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyperfocus Constellation - 3D Repository Galaxy</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <!-- Canvas Container -->
    <div id="canvas-container">
        <canvas id="galaxy-canvas"></canvas>
    </div>

    <!-- UI Overlay -->
    <div id="ui-overlay">
        <!-- Navigation Bar -->
        <div class="nav-bar glass-panel">
            <div class="nav-content">
                <h1 class="constellation-title">
                    <span class="title-icon">‚ú®</span>
                    Hyperfocus Constellation
                </h1>
                <div class="search-container">
                    <input type="text" class="search-input" id="search-input" placeholder="Search repositories..." aria-label="Search repositories">
                    <button class="voice-btn" id="voice-search-btn" aria-label="Voice search">üé§</button>
                </div>
                <div class="performance-display">
                    <span id="fps-counter">FPS: 60</span>
                    <span id="node-count">Nodes: 0</span>
                </div>
            </div>
        </div>

        <!-- Filter Panel (Top Left) -->
        <div class="filter-panel glass-panel">
            <h3>Category Filters</h3>
            <div class="category-filters">
                <button class="filter-btn active" data-category="all">
                    <span class="filter-icon">üåå</span> All Sectors <span id="count-all" class="count-badge">0</span>
                </button>
                <button class="filter-btn" data-category="Core Empire">
                    <span class="filter-icon">üèõÔ∏è</span> Core Empire <span id="count-core" class="count-badge">0</span>
                </button>
                <button class="filter-btn" data-category="Creative">
                    <span class="filter-icon">üé®</span> Creative <span id="count-creative" class="count-badge">0</span>
                </button>
                <button class="filter-btn" data-category="Dev Tools">
                    <span class="filter-icon">üõ†Ô∏è</span> Dev Tools <span id="count-devtools" class="count-badge">0</span>
                </button>
                <button class="filter-btn" data-category="Social">
                    <span class="filter-icon">ü§ù</span> Social <span id="count-social" class="count-badge">0</span>
                </button>
            </div>
        </div>

        <!-- Accessibility Panel (Top Right) -->
        <div class="accessibility-panel glass-panel">
            <h3>Accessibility Controls</h3>
            <div class="control-grid">
                <label class="control-item">
                    <input type="checkbox" id="motion-reduction">
                    <span class="control-label">Reduce Motion</span>
                </label>
                <label class="control-item">
                    <input type="checkbox" id="focus-mode">
                    <span class="control-label">Focus Mode</span>
                </label>
                <label class="control-item">
                    <input type="checkbox" id="high-contrast">
                    <span class="control-label">High Contrast</span>
                </label>
                <label class="control-item">
                    <input type="checkbox" id="audio-enabled">
                    <span class="control-label">Audio FX</span>
                </label>
            </div>
            <div class="volume-controls">
                <label for="ambient-volume">Ambient Volume: <span id="ambient-value">50</span>%</label>
                <input type="range" id="ambient-volume" class="volume-slider" min="0" max="100" value="50">
                <label for="effects-volume">Effects Volume: <span id="effects-value">30</span>%</label>
                <input type="range" id="effects-volume" class="volume-slider" min="0" max="100" value="30">
            </div>
        </div>

        <!-- Mini-map (Bottom Right) -->
        <div class="minimap glass-panel">
            <h4>Galaxy Map</h4>
            <canvas id="minimap-canvas"></canvas>
            <div class="minimap-legend">
                <div class="legend-item">
                    <span class="legend-color" style="background: #00d4ff;"></span> Core
                </div>
                <div class="legend-item">
                    <span class="legend-color" style="background: #ff00d4;"></span> Creative
                </div>
            </div>
        </div>

        <!-- Tour Controls (Bottom Left) -->
        <div class="tour-controls glass-panel">
            <button class="btn btn--primary" id="start-tour">
                <span>üöÄ</span> Start Tour
            </button>
            <button class="btn btn--secondary" id="export-view">
                <span>üì∏</span> Export View
            </button>
            <button class="btn btn--outline" id="reset-view">
                <span>üîÑ</span> Reset Camera
            </button>
        </div>

        <!-- Bookmarks Panel (Bottom Center) -->
        <div class="bookmarks-panel glass-panel hidden" id="bookmarks-panel">
            <div class="bookmarks-header">
                <h3>‚≠ê Bookmarked Repos</h3>
                <button class="toggle-btn" id="toggle-bookmarks">‚ñº</button>
            </div>
            <div class="bookmarks-list" id="bookmarks-list">
                <!-- Bookmarks will be added here -->
            </div>
        </div>

        <!-- Info Panel (Right Slide-out) -->
        <div class="info-panel glass-panel hidden" id="info-panel">
            <div class="info-header">
                <h2 id="repo-name">Repository Name</h2>
                <button class="close-btn" id="close-info">‚úï</button>
            </div>
            <div class="info-content">
                <div class="repo-meta">
                    <div class="repo-stats">
                        <span class="language-tag" id="repo-language">JavaScript</span>
                        <span class="stars-count">‚≠ê <span id="repo-stars">0</span></span>
                        <span class="issues-count">üêõ <span id="repo-issues">0</span></span>
                    </div>
                    <div class="status">Status: <span id="repo-status">Active</span></div>
                    <div class="updated">Updated: <span id="repo-updated">Just now</span></div>
                </div>
                <p id="repo-description">Repository description goes here...</p>
                <div class="repo-actions">
                    <a href="#" target="_blank" class="btn btn--primary" id="repo-link">
                        <span>üîó</span> View on GitHub
                    </a>
                    <button class="btn btn--secondary" id="bookmark-btn">
                        <span>‚≠ê</span> Bookmark
                    </button>
                    <button class="btn btn--outline" id="share-btn">
                        <span>üì§</span> Share
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <h2>Initializing Galaxy...</h2>
            <p id="loading-status">Calibrating sensors...</p>
            <div class="loading-progress">
                <div id="loading-bar"></div>
            </div>
        </div>
    </div>

    <!-- Achievement Notifications -->
    <div id="achievement-notification" class="achievement-toast hidden">
        <div class="achievement-content">
            <span class="achievement-icon">üèÜ</span>
            <span id="achievement-text"></span>
        </div>
    </div>

    <!-- Core Application Logic -->
    <script type="module" defer src="app.js"></script>
</body>
</html>
