<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyperfocus Constellation - 3D Repository Galaxy</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
    <!-- 3D Canvas Container -->
    <div id="galaxy-container">
        <canvas id="galaxy-canvas"></canvas>
    </div>

    <!-- Main UI Overlay -->
    <div id="ui-overlay">
        <!-- Top Navigation Bar -->
        <nav class="nav-bar glass-panel">
            <div class="nav-content">
                <h1 class="constellation-title">
                    <span class="title-icon">✨</span>
                    Hyperfocus Constellation
                </h1>
                
                <!-- Search -->
                <div class="search-container">
                    <input type="text" id="search-input" class="search-input" placeholder="🔍 Search repositories..." autocomplete="off">
                    <button id="voice-search-btn" class="voice-btn" title="Voice Search">🎤</button>
                </div>

                <!-- Performance Metrics -->
                <div class="performance-display">
                    <span id="fps-counter">FPS: --</span>
                    <span id="render-time">Render: --ms</span>
                </div>
            </div>
        </nav>

        <!-- Category Filter Panel -->
        <div class="filter-panel glass-panel">
            <h3>Categories</h3>
            <div class="category-filters">
                <button class="filter-btn active" data-category="all">
                    <span class="filter-icon">🌟</span>
                    All (<span id="count-all">20</span>)
                </button>
                <button class="filter-btn" data-category="Core Empire">
                    <span class="filter-icon">⚡</span>
                    Core Empire (<span id="count-core">6</span>)
                </button>
                <button class="filter-btn" data-category="Creative">
                    <span class="filter-icon">🎨</span>
                    Creative (<span id="count-creative">5</span>)
                </button>
                <button class="filter-btn" data-category="Dev Tools">
                    <span class="filter-icon">🔧</span>
                    Dev Tools (<span id="count-devtools">6</span>)
                </button>
                <button class="filter-btn" data-category="Social">
                    <span class="filter-icon">💬</span>
                    Social (<span id="count-social">3</span>)
                </button>
            </div>
        </nav>

        <!-- Accessibility Controls -->
        <div class="accessibility-panel glass-panel">
            <h3>Accessibility</h3>
            <div class="control-grid">
                <label class="control-item">
                    <input type="checkbox" id="motion-reduction">
                    <span class="control-label">🐌 Reduce Motion</span>
                </label>
                <label class="control-item">
                    <input type="checkbox" id="focus-mode">
                    <span class="control-label">🎯 Focus Mode</span>
                </label>
                <label class="control-item">
                    <input type="checkbox" id="audio-enabled">
                    <span class="control-label">🔊 Spatial Audio</span>
                </label>
                <label class="control-item">
                    <input type="checkbox" id="high-contrast">
                    <span class="control-label">🌓 High Contrast</span>
                </label>
            </div>
            
            <!-- Volume Controls -->
            <div class="volume-controls">
                <label for="ambient-volume">🎵 Ambient: <span id="ambient-value">50</span>%</label>
                <input type="range" id="ambient-volume" min="0" max="100" value="50" class="volume-slider">
                
                <label for="effects-volume">🔊 Effects: <span id="effects-value">30</span>%</label>
                <input type="range" id="effects-volume" min="0" max="100" value="30" class="volume-slider">
            </div>
        </div>

        <!-- Repository Info Panel -->
        <div id="repo-info-panel" class="info-panel glass-panel hidden">
            <div class="info-header">
                <h2 id="repo-name"></h2>
                <button id="close-info" class="close-btn">✕</button>
            </div>
            <div class="info-content">
                <div class="repo-stats">
                    <span id="repo-category" class="category-tag"></span>
                    <span id="repo-language" class="language-tag"></span>
                    <span id="repo-stars" class="stars-count">⭐ 0</span>
                </div>
                <p id="repo-description"></p>
                <div class="repo-meta">
                    <span id="repo-updated"></span>
                    <span id="repo-status" class="status"></span>
                </div>
                <div class="repo-actions">
                    <a id="repo-github-link" href="#" target="_blank" class="btn btn--primary">
                        <span>🔗 View on GitHub</span>
                    </a>
                    <button id="bookmark-btn" class="btn btn--secondary">
                        <span id="bookmark-icon">🔖</span> Bookmark
                    </button>
                    <button id="share-btn" class="btn btn--outline">
                        📤 Share View
                    </button>
                </div>
            </div>
        </div>

        <!-- Mini-map -->
        <div class="minimap glass-panel">
            <h4>Galaxy Map</h4>
            <canvas id="minimap-canvas" width="150" height="150"></canvas>
            <div class="minimap-legend">
                <div class="legend-item">
                    <span class="legend-color core-empire"></span>
                    <span>Core Empire</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color creative"></span>
                    <span>Creative</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color dev-tools"></span>
                    <span>Dev Tools</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color social"></span>
                    <span>Social</span>
                </div>
            </div>
        </div>

        <!-- Tour & Help Controls -->
        <div class="tour-controls glass-panel">
            <button id="start-tour" class="btn btn--primary">
                🚀 Guided Tour
            </button>
            <button id="export-view" class="btn btn--secondary">
                📸 Export View
            </button>
            <button id="reset-view" class="btn btn--outline">
                🏠 Reset Camera
            </button>
        </div>

        <!-- Bookmarks Panel -->
        <div id="bookmarks-panel" class="bookmarks-panel glass-panel hidden">
            <div class="bookmarks-header">
                <h3>🔖 Bookmarked Repositories</h3>
                <button id="toggle-bookmarks" class="toggle-btn">📋</button>
            </div>
            <div id="bookmarks-list" class="bookmarks-list">
                <!-- Dynamic bookmark items will be added here -->
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <h2>Initializing Constellation...</h2>
            <p id="loading-status">Mapping repositories to stars</p>
            <div class="loading-progress">
                <div id="loading-bar" class="progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Achievement Notifications -->
    <div id="achievement-notification" class="achievement-toast hidden">
        <div class="achievement-content">
            <span class="achievement-icon">🏆</span>
            <span id="achievement-text"></span>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>